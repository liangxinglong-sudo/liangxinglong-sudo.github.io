import{_ as s,c as e,a,o as l}from"./app-0cHkJ8w3.js";const t="/assets/oracle1-DjI87y0z.png",n="/assets/tablespace-CsEf9Ywy.jpg",h={};function d(p,i){return l(),e("div",null,i[0]||(i[0]=[a('<h2 id="一、逻辑图" tabindex="-1"><a class="header-anchor" href="#一、逻辑图"><span>一、逻辑图</span></a></h2><p><img src="'+t+`" alt="oracle 的运行环境" width="1026" height="766"></p><ol><li><p><strong>物理部分</strong>：ctl 控制文件       数据文件       .log 日志文件</p></li><li><p><strong>实例部分</strong>：内存结构（200多M 缓存）系统全局区域</p></li><li><p><code>PGA</code>：每个用户独有的区域。</p><p><code>PMON</code> 是控制SGA 和 PGA 联系。</p><p><code>DBWR</code>：数据读写</p><p><code>LGWR</code>：日志读写</p><p><code>CKPT</code>：检查点进程，主要控制事务。</p></li><li><p><code>SGA</code>：system  global area。</p></li></ol><h2 id="二、包含" tabindex="-1"><a class="header-anchor" href="#二、包含"><span>二、包含</span></a></h2><ul><li><code>DML [Data Manipulation Language]</code> 数据操作语言 INSERT UPDATE DELETE</li><li><code>DQL [Data Query Language]</code> 数据查询语言 SELETE</li><li><code>DDL [Data Definition Language]</code> 数据定义语言 CREATE DROP ALTER</li><li><code>DCL [Data Control Language]</code> 数据库控制语言 GRANT、REVOKE</li><li><code>TCL</code> 事务控制语言</li></ul><h2 id="三、持久化" tabindex="-1"><a class="header-anchor" href="#三、持久化"><span>三、持久化</span></a></h2><ol><li><p><strong>持久化</strong>包括 读 和 写</p></li><li><p><strong>数据</strong>存在于 表中 --&gt; 表空间 --&gt; 实例 --&gt; 数据库</p></li><li><p><strong>持久化步骤</strong>：</p><ul><li><p>创建表空间</p></li><li><p>创建自己的数据文件</p></li><li><p>创建用户</p></li><li><p>登陆自己的用户开始创建表</p></li><li><p>为了确保数据准确性 --&gt;约束</p></li><li><p>增删查改</p></li></ul></li><li><p><strong>谁能创建表空间</strong></p><ul><li><p><code>system</code> 数据层面的DBA</p></li><li><p><code>sys</code> 运维超级管理员，保证实例的运行</p></li></ul></li></ol><h2 id="四、创建表空间" tabindex="-1"><a class="header-anchor" href="#四、创建表空间"><span>四、创建表空间</span></a></h2><ol><li><p><strong>语法</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">create</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  tablespace [名称如右侧：] spc_hm302</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">datafile </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> D:\\ datafiles\\hm_302.dbf ，D:\\ datafiles\\hm_302_01.dbf  </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  </span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">size</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 30M </span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">autoextend </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">on</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(开启)  </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">---&gt;正常情况要关闭，假如以后这个数据库废弃，自己会越来越大。</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">next</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 10M ; </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">--关闭时不写</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>删除表空间</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">drop</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> table</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">space spc_hm302 including  contents </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">AND</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> datafiles;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p><strong>增加表空间</strong></p><p>shell连接数据库服务器，df -h 查看剩余物理空间是否足够</p><p>通过DBEaver 查看已有表空间路径</p><p><img src="`+n+`" alt="查看表空间" width="4096" height="3072"></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">ALTER</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> TABLESPACE</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> [表空间名]  </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">ADD</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> DATAFILE [文件的绝对路径(查询过的路径)] </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">SIZE</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> XXXM AUTOEXTEND </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">ON</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> MAXSIZE XXXXM；</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>连接oracle服务器，通过sysdba角色 执行上面的sql：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sqlplus</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> as</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> sysdba</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ol><h2 id="五、创建用户" tabindex="-1"><a class="header-anchor" href="#五、创建用户"><span>五、创建用户</span></a></h2><ol><li><p><strong>场景</strong></p><p>用来操作表空间</p></li><li><p><strong>语法</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">create</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> user</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> hm302</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">identified </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">by</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> orcl</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">default</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> tablespace spc_hm302;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>注意</strong></p><p>3.1. 没有指定表空间的用户，会自动放到user的表空间中，这个表空间是自动增长的</p><p>3.2. 新创建的用户，是没有任何权限的，oracle 是非常安全的 注重权限管理</p><p>3.3. 因为权限过多 赋予权限的时候不好操作，所以oracle 设定好了，直接赋予就行</p></li><li><p><code>connect</code> 一般用户，只有登陆查询权限</p></li><li><p><code>resource</code> 更为正式的角色，可以增删该查，一般是程序员拥有</p></li><li><p><code>dba</code> dba权限，很厉害，所以不要用</p></li></ol><h2 id="六、赋予权限" tabindex="-1"><a class="header-anchor" href="#六、赋予权限"><span>六、赋予权限</span></a></h2><ol><li><p><strong>语法</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">grant</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> connect</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">,</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">resource</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> to</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> hm302</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p><strong>收回权限</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">revoke</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> connect</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">,</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">resource</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> hm302</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ol>`,13)]))}const k=s(h,[["render",d]]),o=JSON.parse('{"path":"/knowledge/dbs/oracle/oracle/","title":"入门及概念","lang":"zh-CN","frontmatter":{"title":"入门及概念","icon":"cib:oracle-netsuite","createTime":"2025/04/10 17:28:06","permalink":"/knowledge/dbs/oracle/oracle/","description":"一、逻辑图 oracle 的运行环境 物理部分：ctl 控制文件 数据文件 .log 日志文件 实例部分：内存结构（200多M 缓存）系统全局区域 PGA：每个用户独有的区域。 PMON 是控制SGA 和 PGA 联系。 DBWR：数据读写 LGWR：日志读写 CKPT：检查点进程，主要控制事务。 SGA：system global area。 二、包...","head":[["meta",{"property":"og:url","content":"https://liangxinglong-sudo.github.io/knowledge/dbs/oracle/oracle/"}],["meta",{"property":"og:site_name","content":"coder liang"}],["meta",{"property":"og:title","content":"入门及概念"}],["meta",{"property":"og:description","content":"一、逻辑图 oracle 的运行环境 物理部分：ctl 控制文件 数据文件 .log 日志文件 实例部分：内存结构（200多M 缓存）系统全局区域 PGA：每个用户独有的区域。 PMON 是控制SGA 和 PGA 联系。 DBWR：数据读写 LGWR：日志读写 CKPT：检查点进程，主要控制事务。 SGA：system global area。 二、包..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"入门及概念\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[]}"]]},"headers":[],"readingTime":{"minutes":2.19,"words":656},"git":{},"autoDesc":true,"filePathRelative":"notes/knowledge/4.dbs/oracle/1.oracle.md"}');export{k as comp,o as data};
