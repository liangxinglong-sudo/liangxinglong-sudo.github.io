import{_ as a,c as n,b as e,a as l,r as p,o as t}from"./app-noM96vtB.js";const h="/assets/Luncene1-HJyfErVw.png",r="/assets/Luncene2-DjWWhsQS.png",d="/assets/Luncene3-D8fEXRaI.png",c={};function k(o,s){const i=p("Icon");return t(),n("div",null,[e(i,{name:"fxemoji:circledideographsecret",size:"2em"}),s[0]||(s[0]=l(` 讲 ElasticSearch 设计先看个故事:<details class="hint-container details"><summary>展开查看故事详情..</summary><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>多年前，一个叫做Shay Banon的刚结婚不久的失业开发者。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>由于妻子要去伦敦学习厨师，他便跟着也去了。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>在他找工作的过程中，为了给妻子构建一个食谱的搜索引擎，他开始构建一个早期版本的Lucene。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>直接基于Lucene工作会比较困难，所以Shay开始抽象Lucene代码以便Java程序员可以在应用中添加搜索功能。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>他发布了他的第一个开源项目，叫做“Compass”。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>后来Shay找到一份工作，这份工作处在高性能和内存数据网格的分布式环境中</span></span>
<span class="line"><span></span></span>
<span class="line"><span>因此高性能的、实时的、分布式的搜索引擎也是理所当然需要的。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>然后他决定重写Compass库使其成为一个独立的服务叫做Elasticsearch。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>第一个公开版本出现在2010年2月，在那之后Elasticsearch已经成为Github上最受欢迎的项目之一。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>代码贡献者超过300人。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>一家主营Elasticsearch的公司就此成立。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>他们一边提供商业支持一边开发新功能，不过 Elasticsearch 将永远开源且对所有人可用。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>然而，Shay的妻子依旧等待着她的食谱搜索……</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><h2 id="一、luncene概述" tabindex="-1"><a class="header-anchor" href="#一、luncene概述"><span>一、Luncene概述</span></a></h2><h3 id="_1-什么是全文搜索" tabindex="-1"><a class="header-anchor" href="#_1-什么是全文搜索"><span>1. 什么是全文搜索</span></a></h3><p><code>Lucene 全文检索</code> 是对文档中全部内容进行分词，然后对所有单词建立 <strong>倒排索引</strong> 的过程。</p><h3 id="_2-luncene的基本原理" tabindex="-1"><a class="header-anchor" href="#_2-luncene的基本原理"><span>2. Luncene的基本原理</span></a></h3><p><img src="`+h+'" alt="Luncene" width="5400" height="3065"></p><h2 id="二-、elasticsearch概述" tabindex="-1"><a class="header-anchor" href="#二-、elasticsearch概述"><span>二 、ElasticSearch概述</span></a></h2><p><code>Elasticsearch</code> 是一个分布式可扩展的实时搜索和分析引擎,它建立在 <strong>全文搜索引擎 Apache Lucene(TM)</strong> 基础上的搜索引擎。<code>Elasticsearch</code> 不仅包括了全文搜索功能，还可进行以下工作:</p><ul><li><p><mark>分布式实时文件存储</mark> ，并将每一个字段都编入索引，使其可以被搜索</p></li><li><p><mark>实时分析的分布式搜索引擎</mark></p></li><li><p>可以扩展到上百台服务器，<mark>处理PB级别的结构化或非结构化数据</mark></p></li></ul><h3 id="_1-与关系型数据库对比" tabindex="-1"><a class="header-anchor" href="#_1-与关系型数据库对比"><span>1. 与关系型数据库对比</span></a></h3><div class="hint-container warning"><p class="hint-container-title">切记</p><p><strong>不要划等号，类比只是为了便于理解</strong></p></div><p><img src="'+r+`" alt="Luncene" width="777" height="255"></p><ul><li><p><strong>索引</strong> 类似传统关系型数据库中的数据库，它是相关文档存储的地方</p></li><li><p><strong>索引一个文档</strong> 表示把一个文档存储到索引中，类似于SQL中的 <code>Insert</code> 操作，但如果文档已经存在，新的文档会覆盖旧的文档</p></li><li><p><strong>倒排索引</strong> 类似传统数据库中为特定的列增加索引如 <code>B-Tree</code> 来提高检索速度。</p></li></ul><div class="hint-container tip"><p class="hint-container-title">提示</p><p>从 7.0 版本开始，取消了 Type。这也就意味着，每一个 Index 中存储的数据类型可以认为都是同一种，不再区分类型了。</p></div><h3 id="_2-文档示例" tabindex="-1"><a class="header-anchor" href="#_2-文档示例"><span>2. 文档示例</span></a></h3><p>为创建员工目录，需要进行如下操作：</p><div class="vp-steps"><ol><li><p>为每个员工的文档(document)建立索引，每个文档包含了相应员工的所有信息。</p></li><li><p>每个文档的类型为 employee。</p></li><li><p>employee 类型 归属于索引 megacorp。</p></li><li><p>megacorp 索引 存储在 Elasticsearch 集群中。</p></li></ol></div><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark has-highlighted vp-code"><code><span class="line highlighted error"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">PUT   /megacorp/employee/</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">1</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">    &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">first_name</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">John</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">    &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">last_name</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">  &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Smith</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">    &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">age</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">        25</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">    &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">about</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">      &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">I love to go rock climbing</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">    &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">interests</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> [</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">sports</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">music</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>其中 path：<code>/megacorp/employee/1</code> 包含三部分：</p><p><img src="`+d+'" alt="Luncene" width="777" height="205"></p>',21))])}const m=a(c,[["render",k]]),u=JSON.parse('{"path":"/knowledge/component/es/es/","title":"搜索入门介绍","lang":"zh-CN","frontmatter":{"title":"搜索入门介绍","icon":"material-symbols:map-search-outline","category":["开发工具"],"tag":["es"],"createTime":"2025/04/10 17:28:06","permalink":"/knowledge/component/es/es/","head":[["meta",{"property":"og:url","content":"https://liangxinglong-sudo.github.io/knowledge/component/es/es/"}],["meta",{"property":"og:site_name","content":"coder liang"}],["meta",{"property":"og:title","content":"搜索入门介绍"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:tag","content":"es"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"搜索入门介绍\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[]}"]]},"headers":[],"readingTime":{"minutes":2.85,"words":856},"git":{},"filePathRelative":"notes/knowledge/5.component/2.es/1.es.md"}');export{m as comp,u as data};
